<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javaæ—©æœŸå†…å­˜æ¨¡å‹çš„ä¸è¶³</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(to bottom, #1e3c72, #2a5298);
            color: #333;
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        
        header {
            background: #2c3e50;
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: #3498db;
        }
        
        .subtitle {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
            color: #ecf0f1;
        }
        
        .timeline {
            padding: 40px;
            position: relative;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            left: 50%;
            width: 4px;
            background: #3498db;
            margin-left: -2px;
        }
        
        .timeline-item {
            margin-bottom: 50px;
            position: relative;
            display: flex;
            justify-content: flex-end;
            padding-right: 30px;
        }
        
        .timeline-item:nth-child(even) {
            justify-content: flex-start;
            padding-left: 30px;
            padding-right: 0;
        }
        
        .timeline-content {
            width: 45%;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            border-left: 4px solid #3498db;
            position: relative;
        }
        
        .timeline-item:nth-child(even) .timeline-content {
            border-left: none;
            border-right: 4px solid #e74c3c;
        }
        
        .timeline-year {
            position: absolute;
            top: 20px;
            left: -75px;
            background: #3498db;
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
            width: 60px;
            text-align: center;
        }
        
        .timeline-item:nth-child(even) .timeline-year {
            left: auto;
            right: -75px;
            background: #e74c3c;
        }
        
        .timeline-title {
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        .problem-section {
            padding: 40px;
            background: #ecf0f1;
        }
        
        .section-title {
            text-align: center;
            font-size: 1.8rem;
            margin-bottom: 40px;
            color: #2c3e50;
        }
        
        .problems-container {
            display: flex;
            flex-wrap: wrap;
            gap: 25px;
            justify-content: center;
        }
        
        .problem-card {
            flex: 1;
            min-width: 300px;
            background: white;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            border-top: 4px solid #e74c3c;
            transition: transform 0.3s;
        }
        
        .problem-card:hover {
            transform: translateY(-10px);
        }
        
        .problem-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: #e74c3c;
            display: flex;
            align-items: center;
        }
        
        .problem-title i {
            margin-right: 10px;
            font-size: 1.5rem;
        }
        
        .problem-content {
            color: #34495e;
            line-height: 1.7;
        }
        
        .problem-content ul {
            padding-left: 20px;
            margin-top: 15px;
        }
        
        .problem-content li {
            margin-bottom: 10px;
        }
        
        .visualization {
            padding: 40px;
            background: #2c3e50;
            color: white;
        }
        
        .thread-container {
            display: flex;
            justify-content: space-around;
            margin: 40px 0;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .thread {
            width: 250px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 20px;
            position: relative;
        }
        
        .thread-title {
            text-align: center;
            margin-bottom: 15px;
            color: #3498db;
            font-weight: bold;
        }
        
        .memory-model {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 5px;
            padding: 15px;
            margin-top: 10px;
            min-height: 150px;
        }
        
        .variable {
            padding: 8px;
            margin: 5px 0;
            background: rgba(52, 152, 219, 0.3);
            border-radius: 4px;
        }
        
        .code-sample {
            background: #1a2530;
            padding: 25px;
            border-radius: 8px;
            margin-top: 30px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        
        .code-comment {
            color: #7f8c8d;
        }
        
        .code-keyword {
            color: #3498db;
        }
        
        .code-method {
            color: #2ecc71;
        }
        
        .code-variable {
            color: #e74c3c;
        }
        
        .conclusion {
            padding: 40px;
            text-align: center;
            background: #3498db;
            color: white;
        }
        
        .conclusion h2 {
            font-size: 2rem;
            margin-bottom: 20px;
        }
        
        .conclusion-content {
            max-width: 800px;
            margin: 0 auto;
            font-size: 1.1rem;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            background: #2c3e50;
            color: #ecf0f1;
        }
        
        @media (max-width: 768px) {
            .timeline::before {
                left: 30px;
            }
            
            .timeline-item, .timeline-item:nth-child(even) {
                padding-left: 60px;
                padding-right: 0;
                justify-content: flex-start;
            }
            
            .timeline-content {
                width: 100%;
            }
            
            .timeline-year {
                left: -5px;
                top: -25px;
            }
            
            .timeline-item:nth-child(even) .timeline-year {
                left: -5px;
                right: auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Javaæ—©æœŸå†…å­˜æ¨¡å‹çš„ä¸è¶³</h1>
            <div class="subtitle">1995-2004å¹´Javaå¤šçº¿ç¨‹ç¼–ç¨‹çš„ä¸»è¦é—®é¢˜ä¸æŒ‘æˆ˜</div>
        </header>
        
        <div class="timeline">
            <div class="timeline-item">
                <div class="timeline-year">1995</div>
                <div class="timeline-content">
                    <h3 class="timeline-title">Javaè¯ç”Ÿ</h3>
                    <p>Java 1.0å‘å¸ƒï¼Œæå‡ºäº†"ä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„è¿è¡Œ"çš„ç†å¿µã€‚ä½†æ­¤æ—¶çš„å†…å­˜æ¨¡å‹éå¸¸åŸºç¡€ï¼Œä¸»è¦ä¾èµ–synchronizedå…³é”®å­—å®ç°åŒæ­¥ã€‚</p>
                    <p>å¤šçº¿ç¨‹æ”¯æŒæœ‰é™ï¼Œæ²¡æœ‰æ˜ç¡®å®šä¹‰çš„å†…å­˜å¯è§æ€§å’ŒæŒ‡ä»¤é‡æ’åºè§„åˆ™ã€‚</p>
                </div>
            </div>
            
            <div class="timeline-item">
                <div class="timeline-year">1997</div>
                <div class="timeline-content">
                    <h3 class="timeline-title">JDK 1.1å‘å¸ƒ</h3>
                    <p>å¼•å…¥äº†wait()/notify()æœºåˆ¶ï¼Œä½†å†…å­˜æ¨¡å‹é—®é¢˜å¼€å§‹æ˜¾ç°ï¼š</p>
                    <ul>
                        <li>çº¿ç¨‹é—´å¯è§æ€§é—®é¢˜</li>
                        <li>æŒ‡ä»¤é‡æ’åºå¯¼è‡´æ„å¤–è¡Œä¸º</li>
                        <li>ç¼ºä¹æœ‰æ•ˆçš„å†…å­˜å±éšœæ”¯æŒ</li>
                    </ul>
                </div>
            </div>
            
            <div class="timeline-item">
                <div class="timeline-year">1999</div>
                <div class="timeline-content">
                    <h3 class="timeline-title">Java 2å‘å¸ƒ</h3>
                    <p>è™½ç„¶æ”¹è¿›äº†APIï¼Œä½†å†…å­˜æ¨¡å‹çš„åŸºæœ¬é—®é¢˜ä»æœªè§£å†³ï¼š</p>
                    <p>ç¼–è¯‘å™¨ã€JVMå’Œå¤„ç†å™¨å„è‡ªè¿›è¡Œä¼˜åŒ–ï¼Œå¯¼è‡´å¤šçº¿ç¨‹è¡Œä¸ºä¸ä¸€è‡´ï¼š</p>
                    <ul>
                        <li>å•å¤„ç†å™¨ä¸Šè¿è¡Œæ­£å¸¸</li>
                        <li>å¤šå¤„ç†å™¨ä¸Šå‡ºç°éšæœºé”™è¯¯</li>
                    </ul>
                </div>
            </div>
            
            <div class="timeline-item">
                <div class="timeline-year">2004</div>
                <div class="timeline-content">
                    <h3 class="timeline-title">JSR-133å‘å¸ƒ</h3>
                    <p>Javaå†…å­˜æ¨¡å‹(JMM)çš„é‡å¤§ä¿®è®¢ï¼š</p>
                    <ul>
                        <li>æ˜ç¡®å®šä¹‰äº†happens-beforeå…³ç³»</li>
                        <li>è§£å†³äº†æŒ‡ä»¤é‡æ’åºé—®é¢˜</li>
                        <li>è§„èŒƒäº†volatileè¯­ä¹‰</li>
                        <li>å¢å¼ºäº†finalå­—æ®µçš„å¯è§æ€§ä¿è¯</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="problem-section">
            <h2 class="section-title">æ—©æœŸJavaå†…å­˜æ¨¡å‹çš„ä¸»è¦é—®é¢˜</h2>
            <div class="problems-container">
                <div class="problem-card">
                    <h3 class="problem-title"><i>ğŸ”„</i> æŒ‡ä»¤é‡æ’åºé—®é¢˜</h3>
                    <div class="problem-content">
                        <p>ç¼–è¯‘å™¨å’Œå¤„ç†å™¨ä¸ºäº†ä¼˜åŒ–æ€§èƒ½ï¼Œä¼šå¯¹æŒ‡ä»¤è¿›è¡Œé‡æ’åºï¼š</p>
                        <ul>
                            <li>æ²¡æœ‰å†…å­˜å±éšœçº¦æŸ</li>
                            <li>å•çº¿ç¨‹æ­£ç¡®ï¼Œå¤šçº¿ç¨‹é”™è¯¯</li>
                            <li>é‡æ’åºå¯¼è‡´é€»è¾‘é¡ºåºç ´å</li>
                        </ul>
                        <p><strong>å…¸å‹è¡¨ç°ï¼š</strong> åˆå§‹åŒ–æœªå®Œæˆå°±è¢«ä½¿ç”¨</p>
                    </div>
                </div>
                
                <div class="problem-card">
                    <h3 class="problem-title"><i>ğŸ‘ï¸</i> å¯è§æ€§é—®é¢˜</h3>
                    <div class="problem-content">
                        <p>çº¿ç¨‹å¯¹å…±äº«å˜é‡çš„ä¿®æ”¹ä¸å¯è§ï¼š</p>
                        <ul>
                            <li>æ— volatileå…³é”®å­—ä¿è¯</li>
                            <li>CPUç¼“å­˜ä¸ä¸€è‡´</li>
                            <li>ä¿®æ”¹å»¶è¿Ÿå¯è§</li>
                        </ul>
                        <p><strong>å…¸å‹è¡¨ç°ï¼š</strong> æ— é™å¾ªç¯ã€æ•°æ®ä¸ä¸€è‡´</p>
                    </div>
                </div>
                
                <div class="problem-card">
                    <h3 class="problem-title"><i>ğŸ§©</i> åŒæ­¥æœºåˆ¶ä¸è¶³</h3>
                    <div class="problem-content">
                        <p>synchronizedå’Œwait/notifyå­˜åœ¨ç¼ºé™·ï¼š</p>
                        <ul>
                            <li>æ€§èƒ½å¼€é”€å¤§</li>
                            <li>å®¹æ˜“æ­»é”</li>
                            <li>ç¼ºä¹é«˜çº§å¹¶å‘åŸè¯­</li>
                        </ul>
                        <p><strong>å…¸å‹è¡¨ç°ï¼š</strong> æ­»é”ã€æ´»é”ã€æ€§èƒ½ä½ä¸‹</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="visualization">
            <h2 class="section-title" style="color: white;">å¤šçº¿ç¨‹é—®é¢˜å¯è§†åŒ–</h2>
            
            <div class="thread-container">
                <div class="thread">
                    <div class="thread-title">çº¿ç¨‹1</div>
                    <div class="memory-model">
                        <div class="variable">æœ¬åœ°ç¼“å­˜: flag = false</div>
                        <div class="variable">æœ¬åœ°ç¼“å­˜: data = 0</div>
                        <div class="variable">æ“ä½œ: data = 42</div>
                        <div class="variable">æ“ä½œ: flag = true</div>
                    </div>
                </div>
                
                <div class="thread">
                    <div class="thread-title">çº¿ç¨‹2</div>
                    <div class="memory-model">
                        <div class="variable">æœ¬åœ°ç¼“å­˜: flag = false</div>
                        <div class="variable">æœ¬åœ°ç¼“å­˜: data = 0</div>
                        <div class="variable">æ“ä½œ: while (!flag);</div>
                        <div class="variable">æ“ä½œ: print(data); // è¾“å‡º0</div>
                    </div>
                </div>
                
                <div class="thread">
                    <div class="thread-title">ä¸»å†…å­˜</div>
                    <div class="memory-model">
                        <div class="variable">flag = false</div>
                        <div class="variable">data = 0</div>
                        <div class="variable" style="background: rgba(231, 76, 60, 0.3);">çŠ¶æ€: ä¸ä¸€è‡´</div>
                    </div>
                </div>
            </div>
            
            <div class="code-sample">
                <pre><span class="code-keyword">public class</span> <span style="color: #f1c40f;">VisibilityProblem</span> {
    <span class="code-keyword">private</span> <span class="code-keyword">static</span> <span class="code-keyword">boolean</span> <span class="code-variable">flag</span> = <span class="code-keyword">false</span>;
    <span class="code-keyword">private</span> <span class="code-keyword">static</span> <span class="code-keyword">int</span> <span class="code-variable">data</span> = 0;
    
    <span class="code-keyword">public static void</span> <span class="code-method">main</span>(String[] args) {
        <span class="code-comment">// çº¿ç¨‹1</span>
        <span class="code-keyword">new</span> Thread(() -> {
            <span class="code-variable">data</span> = 42;          <span class="code-comment">// å¯èƒ½è¢«é‡æ’åºåˆ°flag=trueä¹‹å</span>
            <span class="code-variable">flag</span> = <span class="code-keyword">true</span>;      <span class="code-comment">// ä¿®æ”¹å¯èƒ½ä¸ä¼šç«‹å³å†™å›ä¸»å­˜</span>
        }).<span class="code-method">start</span>();
        
        <span class="code-comment">// çº¿ç¨‹2</span>
        <span class="code-keyword">new</span> Thread(() -> {
            <span class="code-keyword">while</span> (!<span class="code-variable">flag</span>);     <span class="code-comment">// å¯èƒ½æ°¸è¿œçœ‹ä¸åˆ°flagå˜ä¸ºtrue</span>
            System.<span class="code-method">out</span>.<span class="code-method">println</span>(<span class="code-variable">data</span>); <span class="code-comment">// å¯èƒ½è¾“å‡º0è€Œä¸æ˜¯42</span>
        }).<span class="code-method">start</span>();
    }
}</pre>
            </div>
            
            <div style="text-align: center; margin-top: 20px; color: #ecf0f1;">
                <p>æ—©æœŸJavaå†…å­˜æ¨¡å‹é—®é¢˜ï¼šæŒ‡ä»¤é‡æ’åºå’Œå¯è§æ€§é—®é¢˜å¯¼è‡´å¤šçº¿ç¨‹ç¨‹åºè¡Œä¸ºä¸å¯é¢„æµ‹</p>
            </div>
        </div>
        
        <div class="conclusion">
            <h2>JSR-133ï¼šJavaå†…å­˜æ¨¡å‹çš„é‡ç”Ÿ</h2>
            <div class="conclusion-content">
                <p>2004å¹´å‘å¸ƒçš„JSR-133å½»åº•è§£å†³äº†æ—©æœŸJavaå†…å­˜æ¨¡å‹çš„é—®é¢˜ï¼š</p>
                <p>1. å®šä¹‰äº†æ˜ç¡®çš„happens-beforeè§„åˆ™ï¼Œè§„èŒƒäº†æŒ‡ä»¤é‡æ’åºè¡Œä¸º</p>
                <p>2. å¢å¼ºäº†volatileå…³é”®å­—çš„è¯­ä¹‰ï¼Œä¿è¯å¯è§æ€§å’Œç¦æ­¢é‡æ’åº</p>
                <p>3. æ˜ç¡®äº†finalå­—æ®µçš„åˆå§‹åŒ–ä¿è¯</p>
                <p>4. ä¸ºJavaå¹¶å‘åŒ…(java.util.concurrent)å¥ å®šäº†åŸºç¡€</p>
            </div>
        </div>
        
        <div class="footer">
            <p>Javaå†…å­˜æ¨¡å‹å‘å±•å†å² | å¤šçº¿ç¨‹ç¼–ç¨‹çš„æ¼”è¿› | ç†è§£ç°ä»£Javaå¹¶å‘åŸºç¡€</p>
            <p>Â© 2023 JavaæŠ€æœ¯ç ”ç©¶ | æ•°æ®æ¥æºï¼šJSR-133è§„èŒƒæ–‡æ¡£</p>
        </div>
    </div>
    
    <script>
        // æ·»åŠ ç®€å•çš„åŠ¨ç”»æ•ˆæœ
        document.querySelectorAll('.timeline-content, .problem-card').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'opacity 0.5s, transform 0.5s';
        });
        
        setTimeout(() => {
            document.querySelectorAll('.timeline-content, .problem-card').forEach((el, index) => {
                setTimeout(() => {
                    el.style.opacity = '1';
                    el.style.transform = 'translateY(0)';
                }, index * 200);
            });
        }, 500);
        
        // ä»£ç é«˜äº®æ•ˆæœ
        const code = document.querySelector('.code-sample');
        code.addEventListener('mouseover', function() {
            this.style.boxShadow = '0 0 20px rgba(52, 152, 219, 0.5)';
        });
        
        code.addEventListener('mouseout', function() {
            this.style.boxShadow = 'none';
        });
    </script>
</body>
</html>